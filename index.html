<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- PWA / Fullscreen Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#512314">
    <meta name="msapplication-navbutton-color" content="#512314">
    <meta name="apple-mobile-web-app-title" content="BK Cupon">
    
    <!-- Prevenir caching para desarrollo -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    
    <title>BK - Descubre tu Cupon</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Estilos inline criticos -->
    <style>
        /* Colores BK */
        :root {
            --bk-brown: #512314;
            --fire-gradient: linear-gradient(180deg, #FF0000 0%, #FF6B00 50%, #FFC72C 100%);
        }
        
        /* Base - evita flash blanco */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            background: #512314;
        }
        
        /* Portrait: fixed, sin scroll - solo modo móvil */
        @media (orientation: portrait) {
            body:not(.is-desktop-mode) {
                height: 100%;
                height: 100vh;
                overflow: hidden;
                position: fixed;
                top: 0;
                left: 0;
            }
        }
        
        /* Landscape: permite scroll para truco Safari - solo modo móvil */
        @media (orientation: landscape) {
            body:not(.is-desktop-mode) {
                height: auto;
                min-height: 100vh;
                overflow-x: hidden;
                overflow-y: auto;
                position: relative;
            }
        }
        
        /* Desktop mode: siempre fixed y sin scroll */
        body.is-desktop-mode {
            height: 100vh;
            overflow: hidden;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }
        
        /* Ocultar spacer en portrait - solo modo móvil */
        .landscape-spacer {
            display: none;
        }
        @media (orientation: landscape) {
            body:not(.is-desktop-mode) .landscape-spacer {
                display: block;
            }
        }
    </style>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- Vista Desktop/Tablet - Mensaje Solo Móviles -->
    <div class="desktop-view hidden" id="desktopView">
        <div class="desktop-container">
            <img src="logo.svg" alt="Burger King" class="bk-logo bk-logo-desktop">
            
            <div class="desktop-message">
                <!-- Icono de smartphone animado -->
                <div class="phone-icon-wrapper">
                    <div class="phone-icon-animated">
                        <i data-lucide="smartphone" class="desktop-phone-icon"></i>
                    </div>
                    <div class="phone-glow"></div>
                </div>
                
                <h2 class="desktop-title">Esta experiencia es solo para moviles</h2>
                <p class="desktop-subtitle">Abre este enlace desde tu iPhone o Android</p>
                
                <div class="url-box">
                    <i data-lucide="link" class="url-icon"></i>
                    <span class="url-text">mobile-orientation-experience.vercel.app</span>
                </div>
                
                <div class="mobile-hint">
                    <i data-lucide="scan-line" class="hint-icon"></i>
                    <span>Escanea o copia el enlace</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Vista Vertical (Portrait) - Mensaje para girar -->
    <div class="portrait-view">
        <img src="logo.svg" alt="Burger King" class="bk-logo bk-logo-small">
        <div class="rotate-message">
            <div class="rotate-icon-container">
                <i data-lucide="smartphone" class="icon-phone"></i>
                <div class="rotate-arrow">
                    <i data-lucide="rotate-ccw" class="icon-rotate"></i>
                </div>
            </div>
            <h2>Gira tu telefono</h2>
            <p>para descubrir tu cupon exclusivo</p>
            <div class="hint-animation">
                <i data-lucide="chevrons-down" class="icon-chevrons"></i>
            </div>
        </div>
    </div>

    <!-- Vista Horizontal (Landscape) - Con scroll trick para Safari -->
    <div class="landscape-view">
        <!-- Spacer superior con indicador de swipe -->
        <div class="landscape-spacer" id="landscapeSpacer">
            <div class="swipe-indicator" id="swipeIndicator">
                <i data-lucide="chevrons-up" class="swipe-arrow"></i>
                <span class="swipe-text">Desliza hacia arriba</span>
            </div>
        </div>
        
        <!-- Contenido principal del cupón -->
        <div class="landscape-content" id="landscapeContent">
            <!-- Logo Section - Izquierda -->
            <div class="logo-section">
                <img src="logo.svg" alt="Burger King" class="bk-logo bk-logo-large">
            </div>
            
            <!-- Cupon Section - Derecha -->
            <div class="coupon-container">
                <div class="coupon-reveal">
                    <div class="coupon-header">
                        <i data-lucide="gift" class="icon-gift"></i>
                        <h1>Felicidades!</h1>
                    </div>
                    
                    <div class="coupon-card">
                        <div class="coupon-badge">
                            <i data-lucide="percent" class="icon-percent"></i>
                        </div>
                        <div class="coupon-content">
                            <span class="coupon-label">Tu cupon de descuento</span>
                            <div class="coupon-code">
                                <span>BKHOTDOG</span>
                                <button class="copy-btn" id="copyBtn">
                                    <i data-lucide="copy" class="icon-copy"></i>
                                </button>
                            </div>
                            <span class="coupon-discount">20% OFF</span>
                        </div>
                        <div class="coupon-footer">
                            <i data-lucide="clock" class="icon-small"></i>
                            <span>Valido por 24 horas</span>
                        </div>
                    </div>
                    
                    <p class="coupon-instructions">
                        <i data-lucide="shopping-cart" class="icon-small"></i>
                        Usa este codigo en tu proxima compra
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay de transicion -->
    <div class="transition-overlay" id="transitionOverlay">
        <div class="transition-spinner"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
